NOTE: PROCEDURE PRINTTO used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

302  
303  proc datasets lib=work nolist kill;
NOTE: Deleting WORK.DOMAIN_RESULTS (memtype=DATA).
NOTE: Deleting WORK.FORMATS (memtype=CATALOG).
NOTE: Deleting WORK.POOL (memtype=DATA).
NOTE: Deleting WORK.YR1 (memtype=DATA).
NOTE: Deleting WORK.YR1X (memtype=DATA).
NOTE: Deleting WORK.YR2 (memtype=DATA).
NOTE: Deleting WORK.YR2X (memtype=DATA).
303!                                     quit;

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

303!                                           /* delete  all files in the WORK library */
304  LIBNAME CDATA 'C:\MEPS\SAS\DATA';
NOTE: Libref CDATA was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: C:\MEPS\SAS\DATA
305  *LIBNAME CDATA "\\programs.ahrq.local\programs\MEPS\AHRQ4_CY2\B_CFACT\BJ001DVK\Workshop_2018_Fall\SAS\DATA";
306  
307  OPTIONS NODATE;
308  TITLE1 '2018 AHRQ MEPS DATA USERS WORKSHOP';
309  TITLE2 'EXERCISE6.SAS: POOL MEPS DATA FILES FROM DIFFERENT YEARS (2015 and 2016)';
310  
311  PROC FORMAT;
312      VALUE POVCAT
313      1 = '1 POOR/NEGATIVE'
314      2 = '2 NEAR POOR'
315      3 = '3 LOW INCOME'
316      4 = '4 MIDDLE INCOME'
317      5 = '5 HIGH INCOME'
318      ;
NOTE: Format POVCAT has been output.
319  
320      VALUE INSF
321      1 = '1 ANY PRIVATE'
322      2 = '2 PUBLIC ONLY'
323      3 = '3 UNINSURED';
NOTE: Format INSF has been output.
324  
325      VALUE AGE
326      26-30='26-30'
327      0-25='0-25'
328      31-HIGH='31+';
NOTE: Format AGE has been output.
329  run;

NOTE: PROCEDURE FORMAT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

330  
331  /* FREQUENCY OF 2015 */
332  DATA YR1;
333      SET CDATA.H181 (KEEP= DUPERSID INSCOV15 PERWT15F VARSTR VARPSU POVCAT15 AGELAST TOTSLF15);
334       IF PERWT15F>0;
335  RUN;

NOTE: There were 35427 observations read from the data set CDATA.H181.
NOTE: The data set WORK.YR1 has 33893 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.21 seconds
      cpu time            0.21 seconds
      

336  
337  TITLE3 'UNWEIGHTED FREQUENCY FOR 2015 FY PERSONS WITH AGE 26-30';
338  PROC FREQ DATA= YR1 (WHERE=(26 LE AGELAST LE 30));
339      TABLES POVCAT15*INSCOV15/ LIST MISSING ;
340      FORMAT INSCOV15 INSF.  POVCAT15 POVCAT.;
341  RUN;

NOTE: There were 2298 observations read from the data set WORK.YR1.
      WHERE (AGELAST>=26 and AGELAST<=30);
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

342  
343  /* FREQUENCY OF 2016*/
344  DATA YR2;
345      SET CDATA.H192 (KEEP= DUPERSID INSCOV16 PERWT16F VARSTR VARPSU POVCAT16 AGELAST TOTSLF16);
346       IF PERWT16F>0;
347  run;

NOTE: There were 34655 observations read from the data set CDATA.H192.
NOTE: The data set WORK.YR2 has 33259 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.23 seconds
      cpu time            0.21 seconds
      

348  
349  TITLE3 'UNWEIGHTED FREQUENCY FOR 2016 FY PERSONS WITH AGE 26-30';
350  PROC FREQ DATA= YR2 (WHERE=(26 LE AGELAST LE 30));
351      TABLES POVCAT16*INSCOV16/ LIST MISSING ;
352      FORMAT INSCOV16 INSF.  POVCAT16 POVCAT.;
353  RUN;

NOTE: There were 2095 observations read from the data set WORK.YR2.
      WHERE (AGELAST>=26 and AGELAST<=30);
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

354  
355  
356  /* RENAME YEAR SPECIFIC VARIABLES PRIOR TO COMBINING FILES */
357  DATA YR1X;
358      SET YR1 (RENAME=(INSCOV15=INSCOV PERWT15F=PERWT POVCAT15=POVCAT TOTSLF15=TOTSLF));
359  RUN;

NOTE: There were 33893 observations read from the data set WORK.YR1.
NOTE: The data set WORK.YR1X has 33893 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

360  
361  DATA YR2X;
362      SET YR2 (RENAME=(INSCOV16=INSCOV PERWT16F=PERWT POVCAT16=POVCAT TOTSLF16=TOTSLF));
363  RUN;

NOTE: There were 33259 observations read from the data set WORK.YR2.
NOTE: The data set WORK.YR2X has 33259 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

364  
365  DATA POOL;
366       LENGTH INSCOV AGELAST POVCAT VARSTR VARPSU 8;
367      SET YR1X YR2X;
368       POOLWT = PERWT/2 ;
369  
370       IF 26 LE AGELAST LE 30 AND POVCAT=5 AND INSCOV=3 THEN SUBPOP=1;
371       ELSE SUBPOP=2;
372  
373       LABEL SUBPOP='POPULATION WITH AGE=26-30, UNINSURED WHOLE YEAR, AND HIGH INCOME'
374             TOTSLF='TOTAL AMT PAID BY SELF/FAMILY';
375  RUN;

NOTE: There were 33893 observations read from the data set WORK.YR1X.
NOTE: There were 33259 observations read from the data set WORK.YR2X.
NOTE: The data set WORK.POOL has 67152 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

376  
377  TITLE3 "CHECK MISSING VALUES ON THE COMBINED DATA";
378  PROC MEANS DATA=POOL N NMISS;
379  RUN;

NOTE: There were 67152 observations read from the data set WORK.POOL.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.03 seconds
      cpu time            0.04 seconds
      

380  
381  TITLE3 'SUPPORTING CROSSTAB FOR THE CREATION OF THE SUBPOP FLAG';
382  PROC FREQ DATA=POOL;
383      TABLES SUBPOP SUBPOP*AGELAST*POVCAT*INSCOV/ LIST MISSING ;
384      FORMAT  AGELAST AGE. ;
385  RUN;

NOTE: There were 67152 observations read from the data set WORK.POOL.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      

386  
387  ODS EXCLUDE ALL; /* Suppress the printing of output */
388  TITLE3 'WEIGHTED ESTIMATE ON TOTSLF FOR COMBINED DATA W/AGE=26-30, UNINSURED WHOLE YEAR, AND HIGH INCOME';
389  PROC SURVEYMEANS DATA=POOL NOBS MEAN STDERR;
390      STRATUM VARSTR ;
391      CLUSTER VARPSU ;
392      WEIGHT  POOLWT;
393      VAR  TOTSLF;
394      DOMAIN  SUBPOP("1");
395      ODS OUTPUT DOMAIN=work.domain_results;
396  RUN;

NOTE: Only one cluster in a stratum for POPULATION WITH AGE=26-30, UNINSURED WHOLE YEAR, AND HIGH INCOME domains for variable(s) 
      TOTSLF. The estimate of variance for TOTSLF will omit this stratum.
NOTE: The data set WORK.DOMAIN_RESULTS has 1 observations and 7 variables.
NOTE: PROCEDURE SURVEYMEANS used (Total process time):
      real time           0.53 seconds
      cpu time            0.45 seconds
      

397  
398  ODS EXCLUDE NONE; /* Unsuppress the printing of output */
399  TITLE4 "SUBSET THE ESTIMATES FOR PERSONS ONLY WITH 1+ Narcotic analgesics or Narcotic analgesic combos";
400  proc print data= work.domain_results noobs split='*';
401   var   VARLABEL N  mean StdErr  ;
402   label mean = 'Mean'
403         StdErr = 'SE of Mean';
404         format N Comma12. mean comma9.1 stderr 9.4;
405  run;

NOTE: There were 1 observations read from the data set WORK.DOMAIN_RESULTS.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

406  ODS _ALL_ CLOSE;
407  /* THE PROC PRINTTO null step is required to close the PROC PRINTTO */
408  PROC PRINTTO;
409  RUN;

